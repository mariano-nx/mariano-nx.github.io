<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title> Demo Chat with custom launch button and form </title>
		<script type="text/javascript" charset="utf-8">
	  (function (g, e, n, es, ys) {
		g['_genesysJs'] = e; g[e] = g[e] || function () {(g[e].q = g[e].q || []).push(arguments)};
		g[e].t = 1 * new Date(); g[e].c = es; ys = document.createElement('script'); ys.async = 1;
		ys.src = n; ys.charset = 'utf-8'; document.head.appendChild(ys);
	  })(window, 'Genesys','https://apps.cac1.pure.cloud/genesys-bootstrap/genesys.min.js', {
    environment: 'cac1',
    deploymentId: 'dcd2eeec-889e-4f7a-ad95-0880d01fffa7',
		debug: true
	  });
	  
	  

	
	  
	  //left in case it needed for a custom button
	  function launchMessenger(){
		Genesys("command", "Messenger.open", {},
		function(o){	
				Genesys("command", "Database.set", {
			  messaging: {
				customAttributes: {
				  name: document.getElementById('name').value,
			
				  email: document.getElementById('email').value
				  
				}
			  }
			});
			console.log(document.getElementById('name').value);
			console.log(document.getElementById('email').value);
			
		},  // if resolved
		function(o){    // if rejected
			Genesys("command", "Messenger.close");			
		}
		);
		
	  } 
	
</script>
		
	</head>
	<body>

		
		<div id="cssp-login">
        <form id="cssp-login-form">
            <h2 class="form-title">Account login</h2>
			<div class="form-group">
                <label for="cssp-name">Name</label>
                <input type="name" name="name" id="cssp-name" value="" required>
            </div>
            <div class="form-group">
                <label for="cssp-email">Email address</label>
                <input type="email" name="email" id="cssp-email" value="" required autocomplete="email">
            </div>
            <div class="form-group">
                <input class="button" type="submit" value="Chat" onclick="launchMessenger()">
            </div>
            <p style="margin-bottom: -3px;">
        </form>
    </div>
		

	</body>
	
	<style>
	cssp-login {
    display: flex;
    flex-direction: column;
    height: 100%;
    justify-content: center;
    left: 30px;
    position: absolute;
    right: 30px;
    top: 0;
}
	cssp-login form {
    background: #fff;
    box-shadow: 0 6px 8px -2px rgb(0 0 0 / 12%), 0 4px 16px rgb(0 0 0 / 14%);
    box-sizing: border-box;
    margin: auto;
    padding: 32px;
    position: relative;
    width: 25.5em;
    z-index: 99;
	}
	
	cssp-login .form-title {
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    font-size: 14px;
    font-variant-ligatures: none;
    font-weight: 600;
    letter-spacing: 0.1em;
    line-height: 1.5;
    margin: -5px 0 1em;
    text-transform: uppercase;}
	
	cssp-login .form-group {
    align-items: center;
    display: flex;
    flex-wrap: wrap;
    margin-bottom: 0.75em;}
	
	#cssp-login .form-group input[type="submit"] {
    margin-bottom: 0;
    min-width: 35%;
}
input[type="submit"].button, input[type="reset"].button, button.button {
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    font-size: 14px;
    font-variant-ligatures: none;
    font-weight: 600;
    letter-spacing: 0.1em;
    line-height: 1.71428571;
    margin: 4px 10px 6px 0;
    text-transform: uppercase;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background: #0079c1;
    border: 0;
    border-radius: 3px;
    box-sizing: border-box;
    color: #fff;
    cursor: pointer;
    display: inline-block;
    float: none;
    min-height: 44px;
    min-width: 5em;
    padding: 11px 19px 9px;
    text-align: center;
    text-decoration: none !important;
    transition: background-color 0.1s ease-out;
}
	</style>
	
</html>